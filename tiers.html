<!DOCTYPE html>
 <html> 
     <head><title>
         Character's Tier Based On Game</title>
         <link rel="stylesheet" type="text/css" href="style.css"/> 
     </head>
                <body> 
                    
                 
                    <h1>Character's Tier Based On Game</h1>
                    <ul>
    
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="GameList.html">Games</a></li>
                        <li><a href="char.html">Characters</a></li>
                        <li><a href="tiers.html">Tiers</a></li>
                    </ul>
                    xquery version "3.1";
                    <html> 
                        <head><title>Super Smash Characters' Tiers</title></head>
                        <body> 
                            <h1>Characters' Tiers Based On Game</h1>
                            <table>
                                <tr> 
                                    <th>Characters</th>  
                                    <th>Game 1</th>
                                    <th>Game 2</th>
                                    <th>Game 3</th>
                                    <th>Game 4</th>
                                    <th>Game 5</th>
                                </tr>
                                
                                {let $smashcoll := doc('/db/smashtiers/supersmashtierlist.xml')/*
                                let $char := $smashcoll//char
                                for $c in $char
     
                                return 
                                <tr>
                                    <td>{$c/text()}</td>
                                    <!--ebb: NOW we need to loop over those games to get each of the other <td> rows for each game -->
                                    {let $game := $c//game/@n ! string() => sort()
                                    for $g in $game
                                    let $tier := $c//game[@n = $g]/@tier ! string()
                                    return
                                    <td>{$tier}</td>
                                    }
                                </tr>
                                }
                            </table>
                        </body>
                    </html>